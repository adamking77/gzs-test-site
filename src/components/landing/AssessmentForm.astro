<section class="py-32 bg-[#f4f4f5]">
  <div class="max-w-3xl mx-auto px-8">
    <h2 class="text-h2 font-normal mb-12 text-[#222222]" data-aos="fade-up">Initial Assessment Application</h2>
    
    <div x-data="{
      step: 1,
      totalSteps: 4,
      formData: {
        // Basic Information
        name: '',
        email: '',
        contactMethod: '',
        referralSource: '',
        
        // Context Overview
        situation: [],
        situationOther: '',
        
        // Pattern Recognition
        situationDescription: '',
        previousApproaches: '',
        
        // Urgency Assessment
        timeline: '',
        
        // Strategic Alignment
        transformationIndicators: [],
        successDefinition: '',
        
        // Value Assessment
        investmentRange: '',
        additionalInformation: ''
      },
      nextStep() {
        if (this.step < this.totalSteps) {
          this.step++
        }
      },
      prevStep() {
        if (this.step > 1) {
          this.step--
        }
      },
      submitForm() {
        // Handle form submission here
        console.log('Form submitted:', this.formData)
      }
    }" class="bg-white rounded-2xl shadow-lg p-8" data-aos="fade-up" data-aos-delay="100">
      <!-- Progress bar -->
      <div class="mb-8">
        <div class="flex justify-between mb-2">
          <template x-for="i in totalSteps" :key="i">
            <div class="flex items-center">
              <div :class="{'bg-[#1d273a]': step >= i, 'bg-gray-200': step < i}"
                   class="w-8 h-8 rounded-full flex items-center justify-center text-white">
                <span x-text="i"></span>
              </div>
              <div x-show="i < totalSteps" class="w-24 h-1 mx-2">
                <div :class="{'bg-[#1d273a]': step > i, 'bg-gray-200': step <= i}"
                     class="h-full transition-all duration-300"></div>
              </div>
            </div>
          </template>
        </div>
      </div>

      <!-- Step 1: Basic Information -->
      <div x-show="step === 1" class="space-y-6">
        <h3 class="text-h3 font-normal mb-6 text-[#222222]">Basic Information</h3>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Full Name</label>
          <input type="text" x-model="formData.name" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#1d273a] focus:border-transparent">
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
          <input type="email" x-model="formData.email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#1d273a] focus:border-transparent">
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Preferred Contact Method</label>
          <select x-model="formData.contactMethod" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#1d273a] focus:border-transparent">
            <option value="">Select preferred contact method</option>
            <option value="email">Email</option>
            <option value="phone">Phone</option>
            <option value="encrypted">Encrypted Channel</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">How did you learn about GenZen Solutions?</label>
          <input type="text" x-model="formData.referralSource" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#1d273a] focus:border-transparent">
        </div>
      </div>

      <!-- Step 2: Context Overview & Pattern Recognition -->
      <div x-show="step === 2" class="space-y-6">
        <h3 class="text-h3 font-normal mb-6 text-[#222222]">Context Overview</h3>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Which best describes your current situation?</label>
          <div class="space-y-2">
            <label class="flex items-center">
              <input type="checkbox" x-model="formData.situation" value="negotiation" class="mr-2">
              <span>High-stakes negotiation requiring strategic leverage</span>
            </label>
            <label class="flex items-center">
              <input type="checkbox" x-model="formData.situation" value="communication" class="mr-2">
              <span>Communication challenges with sophisticated manipulation</span>
            </label>
            <label class="flex items-center">
              <input type="checkbox" x-model="formData.situation" value="reputation" class="mr-2">
              <span>Potential threat to reputation or legacy</span>
            </label>
            <label class="flex items-center">
              <input type="checkbox" x-model="formData.situation" value="protection" class="mr-2">
              <span>Need for strategic protection in complex situation</span>
            </label>
            <label class="flex items-center">
              <input type="checkbox" x-model="formData.situation" value="extraction" class="mr-2">
              <span>Extraction from toxic relationship or arrangement</span>
            </label>
            <label class="flex items-center">
              <input type="checkbox" x-model="formData.situation" value="other" class="mr-2">
              <span>Other (please specify)</span>
            </label>
          </div>
          <div x-show="formData.situation.includes('other')" class="mt-2">
            <input type="text" x-model="formData.situationOther" placeholder="Please specify" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#1d273a] focus:border-transparent">
          </div>
        </div>

        <h3 class="text-h3 font-normal mb-6 text-[#222222] mt-8">Pattern Recognition</h3>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Please briefly describe the situation where you need strategic support. What makes this particularly challenging or complex?</label>
          <textarea x-model="formData.situationDescription" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#1d273a] focus:border-transparent"></textarea>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">What approaches have you already tried? Why do you believe they haven't been effective?</label>
          <textarea x-model="formData.previousApproaches" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#1d273a] focus:border-transparent"></textarea>
        </div>
      </div>

      <!-- Step 3: Urgency Assessment -->
      <div x-show="step === 3" class="space-y-6">
        <h3 class="text-h3 font-normal mb-6 text-[#222222]">Urgency Assessment</h3>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">What is your timeline for resolution?</label>
          <select x-model="formData.timeline" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#1d273a] focus:border-transparent">
            <option value="">Select a timeline</option>
            <option value="immediate">Immediate (within days)</option>
            <option value="short">Short-term (within weeks)</option>
            <option value="medium">Medium-term (within months)</option>
            <option value="strategic">Strategic (ongoing situation)</option>
          </select>
        </div>
      </div>

      <!-- Step 4: Strategic Alignment & Value Assessment -->
      <div x-show="step === 4" class="space-y-6">
        <h3 class="text-h3 font-normal mb-6 text-[#222222]">Strategic Alignment</h3>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Which of these outcomes would create the most significant impact?</label>
          <div class="space-y-2">
            <label class="flex items-center">
              <input type="checkbox" x-model="formData.transformationIndicators" value="control" class="mr-2">
              <span>Maintaining control in high-stakes communications</span>
            </label>
            <label class="flex items-center">
              <input type="checkbox" x-model="formData.transformationIndicators" value="patterns" class="mr-2">
              <span>Seeing manipulation patterns before they take effect</span>
            </label>
            <label class="flex items-center">
              <input type="checkbox" x-model="formData.transformationIndicators" value="vulnerabilities" class="mr-2">
              <span>Transforming vulnerabilities into strategic advantages</span>
            </label>
            <label class="flex items-center">
              <input type="checkbox" x-model="formData.transformationIndicators" value="exit" class="mr-2">
              <span>Designing effective exit strategies while protecting assets</span>
            </label>
            <label class="flex items-center">
              <input type="checkbox" x-model="formData.transformationIndicators" value="architectural" class="mr-2">
              <span>Creating architectural control over critical situations</span>
            </label>
            <label class="flex items-center">
              <input type="checkbox" x-model="formData.transformationIndicators" value="power" class="mr-2">
              <span>Restoring power in situations where it's being systematically stripped away</span>
            </label>
          </div>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">What would a successful outcome look like for you? What would be different in your situation?</label>
          <textarea x-model="formData.successDefinition" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#1d273a] focus:border-transparent"></textarea>
        </div>

        <h3 class="text-h3 font-normal mb-6 text-[#222222] mt-8">Value Assessment</h3>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">The investment for our Strategic Protection services begins at €10,000 per quarter. Is this within your expected investment range?</label>
          <select x-model="formData.investmentRange" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#1d273a] focus:border-transparent">
            <option value="">Select an option</option>
            <option value="yes">Yes</option>
            <option value="no">No</option>
            <option value="discuss">Prefer to discuss</option>
          </select>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2">Is there anything else you believe would be important for us to know before our conversation?</label>
          <textarea x-model="formData.additionalInformation" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#1d273a] focus:border-transparent"></textarea>
        </div>
      </div>

      <!-- Navigation buttons -->
      <div class="flex justify-between mt-8">
        <button x-show="step > 1" @click="prevStep" class="px-6 py-2 border border-[#1d273a] text-[#1d273a] rounded-full hover:bg-[#1d273a] hover:text-white transition-all duration-200">
          Previous
        </button>
        <button x-show="step < totalSteps" @click="nextStep" class="ml-auto px-6 py-2 bg-[#1d273a] text-white rounded-full hover:bg-[#f4f4f5] hover:text-[#1d273a] hover:border-[#1d273a] border border-transparent transition-all duration-200">
          Next
        </button>
        <button x-show="step === totalSteps" @click="submitForm" class="ml-auto px-6 py-2 bg-[#1d273a] text-white rounded-full hover:bg-[#f4f4f5] hover:text-[#1d273a] hover:border-[#1d273a] border border-transparent transition-all duration-200">
          Submit Application
        </button>
      </div>
    </div>
  </div>
</section>

<script>
  // Add Alpine.js
  import Alpine from 'alpinejs'
  window.Alpine = Alpine
  Alpine.start()
</script> 